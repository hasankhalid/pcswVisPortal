<!DOCTYPE html>
<html>
  <head>
    <link rel="shortcut icon" href="https://pcsw.punjab.gov.pk/sites/pcsw7.pitb.gov.pk/governmentofpunjab.ico" type="image/x-icon">
    <link rel="icon" href="https://pcsw.punjab.gov.pk/sites/pcsw7.pitb.gov.pk/governmentofpunjab.ico" type="image/x-icon">
    <title>Economic and Social Wellbeing of Women</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://fonts.googleapis.com/css?family=Lato:300,400,700" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Frank+Ruhl+Libre" rel="stylesheet">

    <script src="//d3js.org/d3.v5.min.js"></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/d3-legend/2.25.6/d3-legend.min.js'></script>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.12/css/all.css" integrity="sha384-G0fIWCsCzJIMAVNQPfjH08cyYaUtMwjJwqiRKxxE/rx96Uroj1BtIQ6MLJuheaO9" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css?family=IBM+Plex+Sans:200,300,400,500,600" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://unpkg.com/d3-sankey@0.7.1"></script>
    <link href="./animate.css" rel="stylesheet">
    <link rel="stylesheet" href="./index.css">
    <link rel="stylesheet" href="./visCSS/sunburst.css">
    <link rel="stylesheet" href="./visCSS/eduTree.css">
    <script src="granim.min.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css"/>
    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
  </head>

  <body>
    <div class='applicationWrap' onclick="void(0)">
      <div class="nav_container">
        <div id="overlay_menu">
          <div class="contentContain">
            <div class="navbar">
              <div class="pcsw">
                <img src="./resources/logo.png" alt="Punjab Commission on the status of women" class="pcswlogo"></img>
                <div>
                  <p class="pcswName">PUNJAB COMMISSION ON THE</p>
                  <p class="pcswName">STATUS OF WOMEN</p>
                </div>
              </div>
              <img id="closeIcon" class="nav_menu_icon" src="./resources/close.png"/>
            </div>
            <div class="nav_section">
              <div class="nav_link_section">
                <div class="nav_link">
                  <p id="link1" class="link_text sunburstButt">LABOR FORCE AND EMPLOYMENT</p>
                </div>
                <div class="nav_link">
                  <p id="link2" class="link_text vaw">VIOLENCE AGAINST WOMEN</p>
                </div>
                <div class="nav_link">
                  <p id="link3" class="link_text youth">YOUTH</p>
                </div>
              </div>
              <div class="nav_link_section">
                <div class="nav_link">
                  <p id="link4" class="link_text">FINANCIAL INCLUSION</p>
                </div>
                <div class="nav_link">
                  <p id="link5" class="link_text">MINORITIES</p>
                </div>
                <div class="nav_link">
                  <p id="link6" class="link_text districtLevel">DISTRICT LEVEL OVERVIEW</p>
                </div>
              </div>
              <div class="logos_section">
                <p class="logos_section_title">OUR PARTNERS</p>
                <div class="logos">
                  <img class="punjabgov" src="./resources/govpunjab.png"></img>
                  <img class="dfid" src="./resources/logo-53-dfid.png"></img>
                  <img class="unfpa" src="./resources/unfpa_logo.png"></img>
                </div>
                <p class="copyright">Punjab Commission on the Status of Women | © 2019</p>
              </div>
            </div>
          </div>
        </div>
        <div class="contentContain">
          <div class="navbar">
            <div class="pcsw">
              <img src="./resources/logo.png" alt="Punjab Commission on the status of women" class="pcswlogo"></img>
              <div>
                <p class="pcswName">PUNJAB COMMISSION ON THE</p>
                <p class="pcswName">STATUS OF WOMEN</p>
              </div>
            </div>
            <img id="hamburger" class="nav_menu_icon" src="./resources/menu.png"/>
          </div>
          <div class="visualization_title_container">
            <p class="proj_title">Labor Force and Employment</p>
          </div>
        </div>
      </div>

      <div class="vis_wrapper">
        <div class="contentContain">
          <div class="questions_wrapper">
            <div class="questions_header">
              <p class="guiding_head">Guiding questions</p>
            </div>
            <div class="questions_container">
              <p class="section_question">What is the labor force participation rate and employment rate of women in rural and urban areas of Punjab?</p>
              <p class="section_question">How are the employed women in Punjab distributed across different sectors and industries?</p>
              <p class="section_question">What is the share of different types of employment in different industries?</p>
            </div>
          </div>
          <div class="text_container">
            <p class="section_text">The sunburst visualization that follows is designed to answer the above questions and others regarding women labor force in Punjab. The sunburst visualization consists of many concentric layers.</p>
          </div>
          <div class="text_container">
            <ul>
              <li class="section_text">The first layer represents ‘area’ and is partitioned into a larger arc for Rural and a smaller arc for urban, the size of the arcs proportional to their actual share in Punjab. Each arc also can be referred to as a node.</li>
              <li class="section_text">The second layer represents ‘labor force participation’ and divides the urban and rural nodes in the previous layer into ‘labor force’ and ‘not in labor force’ nodes.</li>
              <li class="section_text">Similarly layers are added in the radial direction which continue to partition nodes in the previous ‘parent’ layers. The following diagram gives an overview of the hierarchy of layers for each area (urban and rural). The reader will notice that layers for labor force and not in labor force vary and are colored differently.</li>
            </ul>
          </div>
          <div class="text_container">
            <div class="div_diagram_wrapper" data-aos="fade-in" data-aos-delay="50">
              <div class="div_diagram_section">
                <div class="div_diagram_full_section div_diagram_title purple">
                  <p class="no_margin div_digram_text">Labor Force</p>
                </div>
                <div style="display: flex;">
                  <div class="div_diagram_half_section" style="margin-right: 3px;">
                    <div class="div_diagram_full_section purple">
                      <p class="no_margin div_digram_text">Employed</p>
                    </div>
                    <div class="div_diagram_full_section purple">
                      <p class="no_margin div_digram_text">Industry/Sector</p>
                    </div>
                    <div class="div_diagram_full_section purple">
                      <p class="no_margin div_digram_text">Employment Type</p>
                    </div>
                    <div class="div_diagram_full_section purple">
                      <p class="no_margin div_digram_text">Place of work</p>
                    </div>
                    <div class="div_diagram_full_section purple">
                      <p class="no_margin div_digram_text">Informal/Formal Employment</p>
                    </div>
                  </div>
                  <div class="div_diagram_half_section" style="margin-left: 3px;">
                    <div class="div_diagram_full_section purple">
                      <p class="no_margin div_digram_text">Unemployed</p>
                    </div>
                  </div>
                </div>
              </div>
              <div class="div_diagram_section">
                <div class="div_diagram_full_section div_diagram_title orange">
                  <p class="no_margin div_digram_text">Not in Labor Force</p>
                </div>
                <div style="display: flex; flex-direction: column;">
                  <div class="div_diagram_full_section orange">
                    <p class="no_margin div_digram_text">Major Barriers to Working</p>
                  </div>
                  <div class="div_diagram_full_section orange">
                    <p class="no_margin div_digram_text">Marital Status</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="text_container">
            <p class="section_text">The sunburst helps us analyze the entire population of the survey. The next two visualization focus on the employed women in Punjab.</p>
          </div>
          <div class="sunburst_wrapper vis_parent" data-aos="fade-in" data-aos-delay="400">
            <div id="sunburst_container_main">
              <h2 class="vis_heading" style="text-align: left;">Explore Labor Force Composition by Area</h2>
              <div id="NodeTypeDiv">
                <h3>
                  Layer Type: <span id="NodeTypeText"></span>
                </h3>
              </div>
              <div id="sequence">
                <div id="trailAndPercent">
                  <div id="trail">
                    <div class="labelContainer" style="background: linear-gradient(145deg, rgba(142,36,170,1) 0%, rgba(186,104,200,1) 100%); color: white;">
                      <p>Hover the graph for details</p>
                    </div>
                  </div>
                </div>
              </div>
              <div id="sunburst_legend">
                <h4 style="margin-bottom: 5px; margin-top: 10px;">Layer Colors</h4>
                <div class="legend_container">
                  <div class="legend_container_two">
                    <div class="legend_element">
                      <svg height="14" width="14" class="legend_circle">
                        <circle cx="7" cy="7" r="7" fill="rgb(41, 182, 246)"/>
                      </svg>
                      <p class="nomargin">Urban</p>
                    </div>
                    <div class="legend_element">
                      <svg height="14" width="14" class="legend_circle circle_margin">
                        <circle cx="7" cy="7" r="7" fill="rgb(77, 182, 172)"/>
                      </svg>
                      <p class="nomargin">Rural</p>
                    </div>
                  </div>
                  <div class="legend_container_two">
                    <div class="legend_element">
                      <svg height="14" width="14" class="legend_circle circle_margin circle_margin_responsive">
                        <circle cx="7" cy="7" r="7" fill="rgb(255, 143, 0)"/>
                      </svg>
                      <p class="nomargin">Not in labor force</p>
                    </div>
                    <div class="legend_element">
                      <svg height="14" width="14" class="legend_circle circle_margin">
                        <circle cx="7" cy="7" r="7" fill="rgb(142, 36, 170)"/>
                      </svg>
                      <p class="nomargin">Labor force</p>
                    </div>
                  </div>
                </div>
              </div>
              <div id="sunburst_container">
                <div id="explanation" style="visibility: hidden; width: 260px">
                  <span id="percentage"></span><br/>
                  Denominator: Parent node<br/>
                  <span id="percentGlobal"></span><br/>
                  Denominator: All <span id="UrbRurTitle"></span><br/><br/>
                </div>
              </div>
            </div>
            <div id="sunburst_controls">
              <h2 class="vis_heading" style="text-align: left;">Controls</h2>
              <h3>Filter by Age</h3>
              <div id=ButtonContain>
                <div class="button sunburst_button" id="youngerButton" ageGroup="15-24"><span>Age 15-24</span></div>
                <div class="button sunburst_button sunburst_midbutt" id="OlderButton" ageGroup="25-64"><span>Age 25-64</span></div>
                <div class="button disabled sunburst_button" id="AllButton" ageGroup="All"><span>All</span></div>
              </div>
            </div>
          </div>

          <div class="text_container">
            <p class="section_text">This tree based visualization explores the participation of employed women in different industries broken down by education levels. The third layer in the visualization breaks down the employed women by their education level. In the fourth layer, employed women in each education level are further broken down by the industries/ sectors they represent. This visualization can be useful to study the relationship of industries and education levels of employed women.</p>
          </div>
          <div class="edu_tree_wrapper vis_parent">
            <div id="tree_container_main">
              <h2 class="vis_heading">Explore Employment by Education and Industry</h2>
              <div id="tree_container">
              </div>
            </div>
          </div>
          <div class="text_container">
            <p class="section_text">A much more detailed and nuanced analysis of the employed women in Punjab can be conducted by the sankey diagram. The visualization has multiple layers from the left to right. Each layer has multiple labeled bars (called nodes) that are sized proportional to their percentage share. The bars in the layers are connected through links of various sizes that show the flow or relationship between nodes. For each link, the node to the left is the source and the node to the right is the target. The user is also able to change the sequence of the layers as they like to aid in analysis.</p>
          </div>
          <div class="text_container">
            <p class="section_note">Notice that the major barriers to work layer in the sankey diagram presents major barriers reported by employed women whereas in the Sunburst visualization major barriers were only presented for women not in the labor force.	</p>
          </div>
          <div class="edu_tree_wrapper vis_parent" data-aos="fade-in" data-aos-delay="400">
            <div id="sankey_container_main">
              <h2 class="vis_heading">Explore Employment by Education and Industry</h2>
              <div id="sankey_container">
                <svg></svg>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="footer_contain">
        <div class="district_link_container">
          <img class="footer_link_image" data-aos="fade-left" data-aos-delay="50" data-aos-offset="50" data-aos-duration="1000" src="./resources/footerwomen.png"></img>
          <p class="view_districts" data-aos="fade-in" data-aos-delay="600">View district level indicator overview</p>
        </div>
        <footer class="footer">
          <p class="footer_item pcsw_footer">Punjab Commision on the Status of Women</p>
          <div class="pcsw_contact">
            <p class="officeContact footer_item"><i class="fas fa-map-marker-alt"></i>88 Shadman II, Lahore</p>
            <p class="officeContact footer_item"><i class="fas fa-phone"></i>+92 42 99268000-4</p>
          </div>
          <div class="socIcons footSocIcons">
            <i class="fab footer_item fa-facebook-f socIcon facebookSoc"></i>
            <i class="fab footer_item fa-twitter socMidIcon socIcon twitterSoc"></i>
            <i class="fas footer_item fa-link socIcon webSoc"></i>
          </div>
          <canvas id="granim-canvas-footer"></canvas>
          <div class="footer_partners">
            <img class="footer_icon" src="./resources/footerComm.png"></img>
            <img class="footer_icon" src="./resources/footerGov.png"></img>
            <img class="footer_icon_small" src="./resources/logo-53-dfid.png"></img>
            <img class="footer_icon_small" src="./resources/unfpa_logo.png"></img>
            <img class="footer_icon_small" src="./resources/ESW-Hover.png"></img>
          </div>
        </footer>
      </div>
    </div>

    <template id="p-tooltip">
      <div class="s-p__tooltip">
        <div class="s-p__tooltip-header">
          <h1></h1>
        </div>
        <div class="s-p__tooltip-body">
          <p>Percentage of Source: <span class="s-p__value-source sp-data"></span></p>
          <p>Percentage of Target: <span class="s-p__value-target sp-data"></span></p>
          <p>Percentage of Total: <span class="s-p__value-total sp-data"></span></p>
        </div>
      </div>
    </template>
    <template id="r-tooltip">
      <div class="s-p__tooltip">
        <div class="s-p__tooltip-header">
          <h1></h1>
        </div>
        <div class="s-p__tooltip-body">
          <p>Percentage of Total : <span class="s-p__value sp-data"></span></p>
        </div>
      </div>
    </template>

    <script src="./js/sunburst.js"></script>
    <script src="./menu.js"></script>
    <script src="./js/tooltip.js"></script>
    <script src="./js/sankey.js"></script>
    <script src="./js/initEduSankey.js"></script>
    <script src="./js/tree.js"></script>

    <script>

      createSunBurst();
      createEmpTree();

      var granimInstance = new Granim({
         element: '#granim-canvas-footer',
         name: 'granim',
         direction: 'diagonal',
         opacity: [1, 1],
         states : {
             "default-state": {
                 gradients: [
                     ['#EE5930', '#FFA726'],
                     ['#8e24aa', '#ba68c8'],
                     ['#BC3626', '#F6AF32']
                 ]
             }
         }
      });

      $(window).on("load", function() {
        if (window.innerWidth > 775) {
          setTimeout(function () {
            $('#preTitle').show().addClass('animated fadeIn');}, 75
          );
          setTimeout(function () {
            $('.titleLarge').show().addClass('animated fadeIn');}, 85
          );

          setTimeout(function () {
            $('#followTitle').show().addClass('animated fadeIn');}, 95
          );
          setTimeout(function () {
            $('.fadeMeRight').show().addClass('animatedLonger fadeInRightPic');}, 375
          );
        }
        else {
          setTimeout(function () {
            $('#preTitle').show().addClass('animated fadeInUp');}, 75
          );
          setTimeout(function () {
            $('.titleLarge').show().addClass('animated fadeInUp');}, 95
          );

          setTimeout(function () {
            $('#followTitle').show().addClass('animated fadeInUp');}, 115
          );
          setTimeout(function () {
            $('.fadeMeRight').show().addClass('animatedLonger fadeIn');}, 75
          );
        }
        setTimeout(function () {
          $('.fadeinup').show().addClass('animated fadeIn');}, 1500
        );

        AOS.init();
      });

      $(".facebookSoc").click(function() {
        window.open('https://www.facebook.com/pcswpb', '_blank');
      });

      $(".twitterSoc").click(function() {
        window.open('https://twitter.com/pcswpb', '_blank');
      });

      $(".webSoc").click(function() {
        window.open('https://pcsw.punjab.gov.pk/', '_blank');
      });

      $(".sunburstButt").click(function() {
        window.location = "./sunburst.html";
      });

      $(".vaw").click(function() {
        window.location = "./vaw.html";
      });

      $(".districtLevel").click(function() {
        window.location = "./districts.html";
      });

      $(".youth").click(function() {
        window.location = "./youth.html";
      });

      $(".pcsw").click(function() {
        window.location = "./";
      });
    </script>
  </body>
</html>
